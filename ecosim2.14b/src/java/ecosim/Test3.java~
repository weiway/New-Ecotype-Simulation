package ecosim;

import java.util.*;
import java.io.BufferedReader;
import java.io.BufferedWriter;
import java.io.File;
import java.io.FileWriter;
import java.io.FileReader;
import java.io.IOException;

public class Test3{
  public static void main(String[] args){
    List<String> settings = new ArrayList<String>();
    settings = import_settings();
    System.out.println(settings);
    
    ArrayList<String> logSettings = new ArrayList<String>();
    logSettings.add("Error: Could not find all required settings in 'seq_clean_settings.txt' in "
                      + System.getProperty("user.dir"));
    logSettings.add("-- NEED: newick file, fasta file, cutoff, new fasta file " +
                   "name, new log name. Each should be entered on a new line " +
                   "in the specified order.");
    logging(logSettings,"SEQ_CLEAN_ERROR_LOG.txt");
    
  }
  private static List<String> import_settings(){
      
      BufferedReader br = null;
      List<String> settings = new ArrayList<String>();
      
      try{
        String sCurrentLine;
        
        br = new BufferedReader(new FileReader("ecosim/seq_clean_settings.txt"));
        
        while ((sCurrentLine = br.readLine()) != null){
          settings.add(sCurrentLine);
        }
        return settings;
      } catch (IOException x){
        return null;
      }
    }
  
  private static void logging(List<String> logs, String log_name){
      Date date = new Date();
      String string = "Date: " + date.toString() + "\n" + "\n";
      for (int i = 0; i < logs.size(); i++){
        string = string + logs.get(i) + "\n" + "\n";
      }
      try{
        File file = new File(log_name);
        if (!file.exists()){
          file.createNewFile();
        }
        
        FileWriter fw = new FileWriter(file.getAbsoluteFile());
            BufferedWriter bw = new BufferedWriter(fw);
            bw.write(string);
            bw.close();

        } catch (IOException e) {
            e.printStackTrace();
        }
      }
}